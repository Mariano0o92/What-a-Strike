"use strict";var heroImg=document.querySelector(".hero-img"),hamburger=document.querySelector(".hamburger"),nav=document.querySelector(".nav"),navMobile=document.querySelector(".nav-mobile"),mobileLink=document.querySelectorAll(".nav-mobile__link"),mobileLinks=document.querySelector(".nav-mobile__links"),navLinks=document.querySelectorAll(".nav__link"),navResults=document.querySelectorAll(".nav__results"),navTable=document.querySelectorAll(".nav__table a"),mobileResults=document.querySelectorAll(".nav-mobile__results"),mobileTable=document.querySelectorAll(".nav-mobile__table a"),sections=document.querySelectorAll(".main"),tables=document.querySelectorAll(".standings"),scoresSection=document.querySelectorAll(".scores"),scoresRound=document.querySelectorAll(".scores__round"),footerYear=document.querySelector(".footer-year");function setActiveSectionFromHash(){var e=window.location.hash.substring(1),e=document.getElementById(e);e&&(removeActiveClasses(),e.classList.add("main__active"))}function removeActiveClasses(){sections.forEach(function(e){e.classList.remove("main__active")})}function showScores(e){var t=e.target.classList.contains("scores__round"),n=e.target.classList.contains("fa-chevron-down");(t||n&&e.target.parentElement.classList.contains("scores__round"))&&(t=(n=t?e.target:e.target.parentElement).querySelector(".fa-chevron-down"),Array.from(n.parentElement.children).forEach(function(e){e.classList.toggle("scores__score--active")}),t.classList.toggle("rotate"))}window.addEventListener("hashchange",setActiveSectionFromHash),window.addEventListener("load",setActiveSectionFromHash),hamburger.addEventListener("click",function(){hamburger.classList.toggle("is-active"),mobileLinks.classList.toggle("nav-mobile__links--active")}),mobileLink.forEach(function(a){a.addEventListener("click",function(){var e=navMobile.querySelector(".nav-mobile__results"),t=navMobile.querySelector(".nav-mobile__table"),e=(e&&e.remove(),t&&t.remove(),a.getAttribute("href")),t=document.createElement("a"),n=(t.href=e,t.textContent="Results",document.createElement("a")),e=(n.href=e+"-table",n.textContent="Standings",document.createElement("div")),t=(e.className="nav-mobile__results nav-mobile__results--active",e.appendChild(t),document.createElement("div")),n=(t.className="nav-mobile__table",t.appendChild(n),document.createElement("div"));n.className="nav-mobile__bottom-container",n.appendChild(e),n.appendChild(t),navMobile.appendChild(n)})}),navLinks.forEach(function(a){a.addEventListener("click",function(){var e=nav.querySelector(".nav__results"),t=nav.querySelector(".nav__table"),e=(e&&e.remove(),t&&t.remove(),a.getAttribute("href")),t=document.createElement("a"),n=(t.href=e,t.textContent="Results",document.createElement("a")),e=(n.href=e+"-table",n.textContent="Standings",document.createElement("div")),t=(e.className="nav__results nav__results--active",e.appendChild(t),document.createElement("div"));t.className="nav__table",t.appendChild(n),nav.appendChild(e),nav.appendChild(t)})}),navLinks.forEach(function(e,t){e.addEventListener("click",function(){e.classList.contains("nav__link--active")||(removeActiveClasses(),sections[t].classList.add("main__active"),navLinks.forEach(function(e){e.classList.remove("nav__link--active")}),e.classList.add("nav__link--active")),navLinks.forEach(function(e){e.classList.remove("nav__link--active")}),e.classList.add("nav__link--active")})}),navTable.forEach(function(e,t){e.addEventListener("click",function(){removeActiveClasses(),sections[t+1].classList.add("main__active")})}),mobileLink.forEach(function(e,t){e.addEventListener("click",function(){e.classList.contains("nav-mobile__link--active")||(removeActiveClasses(),sections[t].classList.add("main__active"),mobileLink.forEach(function(e){e.classList.remove("nav-mobile__link--active")}),e.classList.add("nav-mobile__link--active")),mobileLink.forEach(function(e){e.classList.remove("nav-mobile__link--active")}),e.classList.add("nav-mobile__link--active"),mobileLinks.classList.toggle("nav-mobile__links--active"),hamburger.classList.toggle("is-active")})}),mobileTable.forEach(function(e,t){e.addEventListener("click",function(){removeActiveClasses(),sections[t+1].classList.add("main__active")})}),scoresSection.forEach(function(e){return e.addEventListener("click",showScores)});var leagues=["PL","PD","BL1","SA","FL1"];function getStandings(e,t){e="".concat(e);fetch("https://proxy.cors.sh/https://api.football-data.org/v4/competitions/"+e+"/standings",{method:"GET",headers:{"X-Auth-Token":"268640ec6a2640e7991cee35b5c601b6","x-cors-api-key":"temp_a1debe2d58c9cbb6f3ea26d9dc21e86a","Accept-Encoding":""}}).then(function(e){return e.json()}).then(function(e){createstandings(e,t)}).catch(function(e){console.log(e)})}function getResults(e,t){e="".concat(e);fetch("https://proxy.cors.sh/https://api.football-data.org/v4/competitions/"+e+"/matches",{method:"GET",headers:{"X-Auth-Token":"268640ec6a2640e7991cee35b5c601b6","x-cors-api-key":"temp_a1debe2d58c9cbb6f3ea26d9dc21e86a","Accept-Encoding":""}}).then(function(e){return e.json()}).then(function(e){createResults(e,t)}).catch(function(e){console.log(e)})}leagues.forEach(function(e,t){getStandings(e,t),getResults(e,t)});var createstandings=function(e,t){var t=document.getElementById(["english-table","spanish-table","german-table","italian-table","french-table"][t]).querySelector(".standings"),e=e.standings[0].table,n=document.createElement("thead"),a=(n.classList.add("standings__header"),n.innerHTML='\n\t<tr>\n\t<th class="standings__header-rank">#</th>\n\t<th class="standings__header-team">Team</th>\n\t<th class="standings__header-played">P</th>\n\t<th class="standings__header-won">W</th>\n\t<th class="standings__header-drawn">D</th>\n\t<th class="standings__header-lost">L</th>\n\t<th class="standings__header-for">+</th>\n\t<th class="standings__header-against">-</th>\n\t<th class="standings__header-difference">+/-</th>\n\t<th class="standings__header-points">P</th>\n\t</tr>\n\t',t.appendChild(n),document.createElement("tbody"));a.classList.add("standings__teams"),e.forEach(function(e){var t=document.createElement("tr");t.innerHTML='\n\t\t<td class="standings__teams-rank">'.concat(e.position,'</td>\n\t\t<td class="standings__teams-team">\n\t\t<img src="').concat(e.team.crest,'" alt="').concat(e.team.name,'">\n\t\t<span class="standings__teams-name-full">').concat(e.team.name,'</span>\n\t\t</td>\n\t\t<td class="standings__teams-played">').concat(e.playedGames,'</td>\n\t\t<td class="standings__teams-won">').concat(e.won,'</td>\n\t\t<td class="standings__teams-drawn">').concat(e.draw,'</td>\n\t\t<td class="standings__teams-lost">').concat(e.lost,'</td>\n\t\t<td class="standings__teams-for">').concat(e.goalsFor,'</td>\n\t\t<td class="standings__teams-against">').concat(e.goalsAgainst,'</td>\n\t\t<td class="standings__teams-difference">').concat(e.goalDifference,'</td>\n\t\t<td class="standings__teams-points">').concat(e.points,"</td>\n\t\t"),a.appendChild(t)}),t.appendChild(a)},createResults=function(e,t){var n=document.getElementById(["english","spanish","german","italian","french"][t]).querySelector(".scores"),t=e.matches,a=new Date,s=new Map,e=(t.filter(function(e){return new Date(e.utcDate)<=a}).forEach(function(e){var t=e.matchday,n=(s.has(t)||((a=document.createElement("div")).classList.add("scores__container"),(n=document.createElement("button")).classList.add("scores__round"),n.innerHTML="Round - ".concat(t,' <i class="fa-solid fa-chevron-down"></i>'),a.appendChild(n),s.set(t,a)),new Date(e.utcDate)),a=new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}).format(n),n=document.createElement("div");n.classList.add("scores__score"),n.innerHTML='\n\t\t  <span class="scores__match-date">'.concat(a,'</span>\n\t\t  <span class="scores__hometeam"><img src="').concat(e.homeTeam.crest,'" alt="').concat(e.homeTeam.name,'"> ').concat(e.homeTeam.shortName,'</span> \n\t\t  <span class="scores__fulltime-score">').concat(e.score.fullTime.home," : ").concat(e.score.fullTime.away,'</span>\n\t\t  <span class="scores__awayteam"><img src="').concat(e.awayTeam.crest,'" alt="').concat(e.awayTeam.name,'"> ').concat(e.awayTeam.shortName,"</span>"),s.get(t).appendChild(n)}),Array.from(s.values()).sort(function(e,t){return parseInt(t.querySelector(".scores__round").textContent.split(" - ")[1])-parseInt(e.querySelector(".scores__round").textContent.split(" - ")[1])}));e.forEach(function(e){n.appendChild(e)}),0<e.length&&(e[0].querySelectorAll(".scores__score").forEach(function(e){e.classList.add("scores__score--active")}),e[0].querySelector(".scores__round").children[0].classList.add("rotate"))},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};handleCurrentYear();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJoZXJvSW1nIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFtYnVyZ2VyIiwibmF2IiwibmF2TW9iaWxlIiwibW9iaWxlTGluayIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtb2JpbGVMaW5rcyIsIm5hdkxpbmtzIiwibmF2UmVzdWx0cyIsIm5hdlRhYmxlIiwibW9iaWxlUmVzdWx0cyIsIm1vYmlsZVRhYmxlIiwic2VjdGlvbnMiLCJ0YWJsZXMiLCJzY29yZXNTZWN0aW9uIiwiZm9vdGVyWWVhciIsImhhc2giLCJzZXRBY3RpdmVTZWN0aW9uRnJvbUhhc2giLCJzdWJzdHJpbmciLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlY3Rpb24iLCJyZW1vdmVBY3RpdmVDbGFzc2VzIiwiY2xhc3NMaXN0IiwiYWRkIiwibGVhZ3VlcyIsImZvckVhY2giLCJnZXRTdGFuZGluZ3MiLCJnZXRSZXN1bHRzIiwiaW5kZXgiLCJwcm94eVVybCIsIlVSTF9BUEkiLCJtZXRob2QiLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJoZWFkZXJzIiwiaXNSb3VuZCIsImlzQXJyb3dEb3duIiwicGFyZW50RWxlbWVudCIsImFycm93RG93biIsImFycm93Q29udGFpbmVyIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGRyZW4iLCJzaWJsaW5nIiwiY3JlYXRlc3RhbmRpbmdzIiwiZGF0YSIsInBhZ2VJbmRleCIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaW5rIiwiZXhpc3RpbmdUYWJsZURpdiIsImV4aXN0aW5nUmVzdWx0c0RpdiIsInJlbW92ZSIsInRhYmxlTGluayIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsInRhYmxlRGl2IiwicmVzdWx0c0xpbmsiLCJyZXN1bHRzRGl2IiwiYm90dG9tQ29udGFpbmVyIiwiaHJlZiIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwibGlua0hyZWYiLCJnZXRBdHRyaWJ1dGUiLCJpc0FjdGl2ZSIsIm5hdkxpbmsiLCJjb25jYXQiLCJzaG93U2NvcmVzIiwibGVhZ3VlSUQiLCJpZCIsImZldGNoIiwic3RhbmRpbmdzIiwiWC1BdXRoLVRva2VuIiwibGVhZ3VlIiwieC1jb3JzLWFwaS1rZXkiLCJoZWFkZXIiLCJ0aGVuIiwidGJvZHkiLCJnZXRUYWJsZSIsInRlYW1EYXRhIiwiaW5uZXJIVE1MIiwiY29uc29sZSIsImNyZWF0ZVJlc3VsdHMiLCJtYXRjaCIsImhhcyIsIkFjY2VwdC1FbmNvZGluZyIsInNjb3Jlc0NvbnRhaW5lciIsInJvdW5kQnV0dG9uIiwiZXJyIiwibG9nIiwieWVhciIsImRheSIsImdldEVsZW1lbnRCeUlkIiwiaG91ciIsInRhYmxlIiwibWludXRlIiwic2NvcmUiLCJob3VyMTIiLCJmb3JtYXQiLCJtYXRjaERhdGUiLCJzb3J0ZWRDb250YWluZXJzIiwibGVuZ3RoIiwidHIiLCJwb3NpdGlvbiIsInRlYW0iLCJjcmVzdCIsIm5hbWUiLCJoYW5kbGVDdXJyZW50WWVhciIsInBsYXllZEdhbWVzIiwid29uIiwiZHJhdyIsImxvc3QiLCJnb2Fsc0ZvciIsImdvYWxzQWdhaW5zdCIsImdvYWxEaWZmZXJlbmNlIiwicG9pbnRzIiwic2NvcmVzIiwibWF0Y2hlcyIsImN1cnJlbnREYXRlIiwiRGF0ZSIsIm1hdGNoZGF5TWFwIiwiTWFwIiwiZmlsdGVyIiwidXRjRGF0ZSIsIm1hdGNoZGF5Iiwic2V0IiwibWF0Y2hTdGFydCIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsIm1vbnRoIiwibWF0Y2hDb250ZW50IiwiaG9tZVRlYW0iLCJzaG9ydE5hbWUiLCJmdWxsVGltZSIsImhvbWUiLCJhd2F5IiwiYXdheVRlYW0iLCJnZXQiLCJ2YWx1ZXMiLCJzb3J0IiwiYSIsImIiLCJwYXJzZUludCIsInNwbGl0IiwiY29udGFpbmVyIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiXSwibWFwcGluZ3MiOiJhQUNBLElBQU1BLFFBQVVDLFNBQVNDLGNBQWMsV0FBVyxFQURsREMsVUFBQUYsU0FB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REFUQVxyXG5jb25zdCBoZXJvSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm8taW1nJylcclxuY29uc3QgaGFtYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpXHJcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKVxyXG5jb25zdCBuYXZNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LW1vYmlsZScpXHJcbmNvbnN0IG1vYmlsZUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LW1vYmlsZV9fbGluaycpXHJcbmNvbnN0IG1vYmlsZUxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1tb2JpbGVfX2xpbmtzJylcclxuY29uc3QgbmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19saW5rJylcclxuY29uc3QgbmF2UmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX3Jlc3VsdHMnKVxyXG5jb25zdCBuYXZUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX3RhYmxlIGEnKVxyXG5jb25zdCBtb2JpbGVSZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1tb2JpbGVfX3Jlc3VsdHMnKVxyXG5jb25zdCBtb2JpbGVUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtbW9iaWxlX190YWJsZSBhJylcclxuY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWFpbicpXHJcbmNvbnN0IHRhYmxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFuZGluZ3MnKVxyXG5jb25zdCBzY29yZXNTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNjb3JlcycpXHJcbmNvbnN0IHNjb3Jlc1JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNjb3Jlc19fcm91bmQnKVxyXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlci15ZWFyJylcclxuXHJcbmZ1bmN0aW9uIHNldEFjdGl2ZVNlY3Rpb25Gcm9tSGFzaCgpIHtcclxuXHRjb25zdCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpXHJcblx0Y29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpXHJcblxyXG5cdGlmIChzZWN0aW9uKSB7XHJcblx0XHRyZW1vdmVBY3RpdmVDbGFzc2VzKClcclxuXHRcdHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbWFpbl9fYWN0aXZlJylcclxuXHR9XHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgc2V0QWN0aXZlU2VjdGlvbkZyb21IYXNoKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHNldEFjdGl2ZVNlY3Rpb25Gcm9tSGFzaClcclxuXHJcbi8vIE5BVklHQVRJT04gTU9CSUxFXHJcblxyXG5oYW1idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0aGFtYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpXHJcblxyXG5cdG1vYmlsZUxpbmtzLmNsYXNzTGlzdC50b2dnbGUoJ25hdi1tb2JpbGVfX2xpbmtzLS1hY3RpdmUnKVxyXG59KVxyXG5cclxubW9iaWxlTGluay5mb3JFYWNoKGxpbmsgPT4ge1xyXG5cdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRjb25zdCBleGlzdGluZ1Jlc3VsdHNEaXYgPSBuYXZNb2JpbGUucXVlcnlTZWxlY3RvcignLm5hdi1tb2JpbGVfX3Jlc3VsdHMnKVxyXG5cdFx0Y29uc3QgZXhpc3RpbmdUYWJsZURpdiA9IG5hdk1vYmlsZS5xdWVyeVNlbGVjdG9yKCcubmF2LW1vYmlsZV9fdGFibGUnKVxyXG5cdFx0aWYgKGV4aXN0aW5nUmVzdWx0c0Rpdikge1xyXG5cdFx0XHRleGlzdGluZ1Jlc3VsdHNEaXYucmVtb3ZlKClcclxuXHRcdH1cclxuXHRcdGlmIChleGlzdGluZ1RhYmxlRGl2KSB7XHJcblx0XHRcdGV4aXN0aW5nVGFibGVEaXYucmVtb3ZlKClcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBsaW5rSHJlZiA9IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJylcclxuXHJcblx0XHRjb25zdCByZXN1bHRzTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxyXG5cdFx0cmVzdWx0c0xpbmsuaHJlZiA9IGxpbmtIcmVmXHJcblx0XHRyZXN1bHRzTGluay50ZXh0Q29udGVudCA9ICdSZXN1bHRzJ1xyXG5cclxuXHRcdGNvbnN0IHRhYmxlTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxyXG5cdFx0dGFibGVMaW5rLmhyZWYgPSBsaW5rSHJlZiArICctdGFibGUnXHJcblx0XHR0YWJsZUxpbmsudGV4dENvbnRlbnQgPSAnU3RhbmRpbmdzJ1xyXG5cclxuXHRcdGNvbnN0IHJlc3VsdHNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdFx0cmVzdWx0c0Rpdi5jbGFzc05hbWUgPSAnbmF2LW1vYmlsZV9fcmVzdWx0cyBuYXYtbW9iaWxlX19yZXN1bHRzLS1hY3RpdmUnXHJcblx0XHRyZXN1bHRzRGl2LmFwcGVuZENoaWxkKHJlc3VsdHNMaW5rKVxyXG5cclxuXHRcdGNvbnN0IHRhYmxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRcdHRhYmxlRGl2LmNsYXNzTmFtZSA9ICduYXYtbW9iaWxlX190YWJsZSdcclxuXHRcdHRhYmxlRGl2LmFwcGVuZENoaWxkKHRhYmxlTGluaylcclxuXHJcblx0XHRjb25zdCBib3R0b21Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdFx0Ym90dG9tQ29udGFpbmVyLmNsYXNzTmFtZSA9ICduYXYtbW9iaWxlX19ib3R0b20tY29udGFpbmVyJ1xyXG5cclxuXHRcdGJvdHRvbUNvbnRhaW5lci5hcHBlbmRDaGlsZChyZXN1bHRzRGl2KVxyXG5cdFx0Ym90dG9tQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlRGl2KVxyXG5cclxuXHRcdG5hdk1vYmlsZS5hcHBlbmRDaGlsZChib3R0b21Db250YWluZXIpXHJcblx0fSlcclxufSlcclxuXHJcbi8vIE5BVklHQVRJT04gREVTS1RPUFxyXG5cclxubmF2TGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuXHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0Y29uc3QgZXhpc3RpbmdSZXN1bHRzRGl2ID0gbmF2LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX3Jlc3VsdHMnKVxyXG5cdFx0Y29uc3QgZXhpc3RpbmdUYWJsZURpdiA9IG5hdi5xdWVyeVNlbGVjdG9yKCcubmF2X190YWJsZScpXHJcblx0XHRpZiAoZXhpc3RpbmdSZXN1bHRzRGl2KSB7XHJcblx0XHRcdGV4aXN0aW5nUmVzdWx0c0Rpdi5yZW1vdmUoKVxyXG5cdFx0fVxyXG5cdFx0aWYgKGV4aXN0aW5nVGFibGVEaXYpIHtcclxuXHRcdFx0ZXhpc3RpbmdUYWJsZURpdi5yZW1vdmUoKVxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGxpbmtIcmVmID0gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxyXG5cclxuXHRcdGNvbnN0IHJlc3VsdHNMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXHJcblx0XHRyZXN1bHRzTGluay5ocmVmID0gbGlua0hyZWZcclxuXHRcdHJlc3VsdHNMaW5rLnRleHRDb250ZW50ID0gJ1Jlc3VsdHMnXHJcblxyXG5cdFx0Y29uc3QgdGFibGVMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXHJcblx0XHR0YWJsZUxpbmsuaHJlZiA9IGxpbmtIcmVmICsgJy10YWJsZSdcclxuXHRcdHRhYmxlTGluay50ZXh0Q29udGVudCA9ICdTdGFuZGluZ3MnXHJcblxyXG5cdFx0Y29uc3QgcmVzdWx0c0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0XHRyZXN1bHRzRGl2LmNsYXNzTmFtZSA9ICduYXZfX3Jlc3VsdHMgbmF2X19yZXN1bHRzLS1hY3RpdmUnXHJcblx0XHRyZXN1bHRzRGl2LmFwcGVuZENoaWxkKHJlc3VsdHNMaW5rKVxyXG5cclxuXHRcdGNvbnN0IHRhYmxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRcdHRhYmxlRGl2LmNsYXNzTmFtZSA9ICduYXZfX3RhYmxlJ1xyXG5cdFx0dGFibGVEaXYuYXBwZW5kQ2hpbGQodGFibGVMaW5rKVxyXG5cclxuXHRcdG5hdi5hcHBlbmRDaGlsZChyZXN1bHRzRGl2KVxyXG5cdFx0bmF2LmFwcGVuZENoaWxkKHRhYmxlRGl2KVxyXG5cdH0pXHJcbn0pXHJcblxyXG4vLyBNQUlOIFNFQ1RJT05cclxuXHJcbi8vIFRvZ2dsZSBjbGFzcyBvZiBfX2FjdGl2ZVxyXG5cclxuLy8gREVTS1RPUFxyXG5cclxubmF2TGlua3MuZm9yRWFjaCgobGluaywgaW5kZXgpID0+IHtcclxuXHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0Y29uc3QgaXNBY3RpdmUgPSBsaW5rLmNsYXNzTGlzdC5jb250YWlucygnbmF2X19saW5rLS1hY3RpdmUnKVxyXG5cclxuXHRcdGlmICghaXNBY3RpdmUpIHtcclxuXHRcdFx0cmVtb3ZlQWN0aXZlQ2xhc3NlcygpXHJcblx0XHRcdHNlY3Rpb25zW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdtYWluX19hY3RpdmUnKVxyXG5cclxuXHRcdFx0bmF2TGlua3MuZm9yRWFjaChuYXZMaW5rID0+IHtcclxuXHRcdFx0XHRuYXZMaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ25hdl9fbGluay0tYWN0aXZlJylcclxuXHRcdFx0fSlcclxuXHRcdFx0bGluay5jbGFzc0xpc3QuYWRkKCduYXZfX2xpbmstLWFjdGl2ZScpXHJcblx0XHR9XHJcblxyXG5cdFx0bmF2TGlua3MuZm9yRWFjaChuYXZMaW5rID0+IHtcclxuXHRcdFx0bmF2TGluay5jbGFzc0xpc3QucmVtb3ZlKCduYXZfX2xpbmstLWFjdGl2ZScpXHJcblx0XHR9KVxyXG5cclxuXHRcdGxpbmsuY2xhc3NMaXN0LmFkZCgnbmF2X19saW5rLS1hY3RpdmUnKVxyXG5cdH0pXHJcbn0pXHJcblxyXG5uYXZUYWJsZS5mb3JFYWNoKChsaW5rLCBpbmRleCkgPT4ge1xyXG5cdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRyZW1vdmVBY3RpdmVDbGFzc2VzKClcclxuXHRcdHNlY3Rpb25zW2luZGV4ICsgMV0uY2xhc3NMaXN0LmFkZCgnbWFpbl9fYWN0aXZlJykgLy8gKzEgdG8gc2VsZWN0IHRoZSBuZXh0IHNlY3Rpb25cclxuXHR9KVxyXG59KVxyXG5cclxuLy8gTU9CSUxFXHJcblxyXG5tb2JpbGVMaW5rLmZvckVhY2goKGxpbmssIGluZGV4KSA9PiB7XHJcblx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdGNvbnN0IGlzQWN0aXZlID0gbGluay5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1tb2JpbGVfX2xpbmstLWFjdGl2ZScpXHJcblxyXG5cdFx0aWYgKCFpc0FjdGl2ZSkge1xyXG5cdFx0XHRyZW1vdmVBY3RpdmVDbGFzc2VzKClcclxuXHRcdFx0c2VjdGlvbnNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ21haW5fX2FjdGl2ZScpXHJcblxyXG5cdFx0XHRtb2JpbGVMaW5rLmZvckVhY2gobW9iaWxlTGluayA9PiB7XHJcblx0XHRcdFx0bW9iaWxlTGluay5jbGFzc0xpc3QucmVtb3ZlKCduYXYtbW9iaWxlX19saW5rLS1hY3RpdmUnKVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRsaW5rLmNsYXNzTGlzdC5hZGQoJ25hdi1tb2JpbGVfX2xpbmstLWFjdGl2ZScpXHJcblx0XHR9XHJcblxyXG5cdFx0bW9iaWxlTGluay5mb3JFYWNoKG1vYmlsZUxpbmsgPT4ge1xyXG5cdFx0XHRtb2JpbGVMaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1tb2JpbGVfX2xpbmstLWFjdGl2ZScpXHJcblx0XHR9KVxyXG5cclxuXHRcdGxpbmsuY2xhc3NMaXN0LmFkZCgnbmF2LW1vYmlsZV9fbGluay0tYWN0aXZlJylcclxuXHJcblx0XHRtb2JpbGVMaW5rcy5jbGFzc0xpc3QudG9nZ2xlKCduYXYtbW9iaWxlX19saW5rcy0tYWN0aXZlJylcclxuXHRcdGhhbWJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKVxyXG5cdH0pXHJcbn0pXHJcblxyXG5tb2JpbGVUYWJsZS5mb3JFYWNoKChsaW5rLCBpbmRleCkgPT4ge1xyXG5cdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRyZW1vdmVBY3RpdmVDbGFzc2VzKClcclxuXHRcdHNlY3Rpb25zW2luZGV4ICsgMV0uY2xhc3NMaXN0LmFkZCgnbWFpbl9fYWN0aXZlJykgLy8gKzEgdG8gc2VsZWN0IHRoZSBuZXh0IHNlY3Rpb25cclxuXHR9KVxyXG59KVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlQWN0aXZlQ2xhc3NlcygpIHtcclxuXHRzZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xyXG5cdFx0c2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYWluX19hY3RpdmUnKVxyXG5cdH0pXHJcbn1cclxuXHJcbi8vIFNDT1JFU1xyXG5cclxuZnVuY3Rpb24gc2hvd1Njb3JlcyhlKSB7XHJcblx0Y29uc3QgaXNSb3VuZCA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2NvcmVzX19yb3VuZCcpXHJcblx0Y29uc3QgaXNBcnJvd0Rvd24gPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZhLWNoZXZyb24tZG93bicpXHJcblxyXG5cdGlmIChpc1JvdW5kIHx8IChpc0Fycm93RG93biAmJiBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2NvcmVzX19yb3VuZCcpKSkge1xyXG5cdFx0Y29uc3QgYXJyb3dDb250YWluZXIgPSBpc1JvdW5kID8gZS50YXJnZXQgOiBlLnRhcmdldC5wYXJlbnRFbGVtZW50XHJcblx0XHRjb25zdCBhcnJvd0Rvd24gPSBhcnJvd0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZmEtY2hldnJvbi1kb3duJylcclxuXHJcblx0XHRjb25zdCBzaWJsaW5ncyA9IEFycmF5LmZyb20oYXJyb3dDb250YWluZXIucGFyZW50RWxlbWVudC5jaGlsZHJlbilcclxuXHRcdHNpYmxpbmdzLmZvckVhY2goc2libGluZyA9PiB7XHJcblx0XHRcdHNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnc2NvcmVzX19zY29yZS0tYWN0aXZlJylcclxuXHRcdH0pXHJcblxyXG5cdFx0YXJyb3dEb3duLmNsYXNzTGlzdC50b2dnbGUoJ3JvdGF0ZScpXHJcblx0fVxyXG59XHJcblxyXG5zY29yZXNTZWN0aW9uLmZvckVhY2goc2VjdGlvbiA9PiBzZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd1Njb3JlcykpXHJcblxyXG4vLyBBUEkgREFUQVxyXG5cclxubGV0IGxlYWd1ZXMgPSBbJ1BMJywgJ1BEJywgJ0JMMScsICdTQScsICdGTDEnXVxyXG5cclxubGVhZ3Vlcy5mb3JFYWNoKChpZCwgaW5kZXgpID0+IHtcclxuXHRnZXRTdGFuZGluZ3MoaWQsIGluZGV4KVxyXG5cdGdldFJlc3VsdHMoaWQsIGluZGV4KVxyXG59KVxyXG5cclxuZnVuY3Rpb24gZ2V0U3RhbmRpbmdzKGlkLCBwYWdlSW5kZXgpIHtcclxuXHRjb25zdCBVUkxfQVBJID0gJ2h0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3Y0L2NvbXBldGl0aW9ucy8nXHJcblx0Y29uc3QgbGVhZ3VlSUQgPSBgJHtpZH1gXHJcblx0Y29uc3QgcHJveHlVcmwgPSAnaHR0cHM6Ly9wcm94eS5jb3JzLnNoLydcclxuXHJcblx0ZmV0Y2gocHJveHlVcmwgKyBVUkxfQVBJICsgbGVhZ3VlSUQgKyAnL3N0YW5kaW5ncycsIHtcclxuXHRcdG1ldGhvZDogJ0dFVCcsXHJcblxyXG5cdFx0aGVhZGVyczoge1xyXG5cdFx0XHQnWC1BdXRoLVRva2VuJzogJzI2ODY0MGVjNmEyNjQwZTc5OTFjZWUzNWI1YzYwMWI2JyxcclxuXHRcdFx0J3gtY29ycy1hcGkta2V5JzogJ3RlbXBfYTFkZWJlMmQ1OGM5Y2JiNmYzZWEyNmQ5ZGMyMWU4NmEnLFxyXG5cdFx0XHQnQWNjZXB0LUVuY29kaW5nJzogJycsXHJcblx0XHR9LFxyXG5cdH0pXHJcblx0XHQudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRjcmVhdGVzdGFuZGluZ3MoZGF0YSwgcGFnZUluZGV4KVxyXG5cdFx0fSlcclxuXHRcdC5jYXRjaChlcnIgPT4ge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlcnIpXHJcblx0XHR9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSZXN1bHRzKGlkLCBwYWdlSW5kZXgpIHtcclxuXHRjb25zdCBVUkxfQVBJID0gJ2h0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3Y0L2NvbXBldGl0aW9ucy8nXHJcblxyXG5cdGNvbnN0IGxlYWd1ZUlEID0gYCR7aWR9YFxyXG5cdGNvbnN0IHByb3h5VXJsID0gJ2h0dHBzOi8vcHJveHkuY29ycy5zaC8nXHJcblxyXG5cdGZldGNoKHByb3h5VXJsICsgVVJMX0FQSSArIGxlYWd1ZUlEICsgJy9tYXRjaGVzJywge1xyXG5cdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0J1gtQXV0aC1Ub2tlbic6ICcyNjg2NDBlYzZhMjY0MGU3OTkxY2VlMzViNWM2MDFiNicsXHJcblx0XHRcdCd4LWNvcnMtYXBpLWtleSc6ICd0ZW1wX2ExZGViZTJkNThjOWNiYjZmM2VhMjZkOWRjMjFlODZhJyxcclxuXHRcdFx0J0FjY2VwdC1FbmNvZGluZyc6ICcnLFxyXG5cdFx0fSxcclxuXHR9KVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0Y3JlYXRlUmVzdWx0cyhkYXRhLCBwYWdlSW5kZXgpXHJcblx0XHR9KVxyXG5cdFx0LmNhdGNoKGVyciA9PiB7XHJcblx0XHRcdGNvbnNvbGUubG9nKGVycilcclxuXHRcdH0pXHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZXN0YW5kaW5ncyA9IChsZWFndWUsIHBhZ2VJbmRleCkgPT4ge1xyXG5cdGNvbnN0IHNlY3Rpb25JRCA9IFsnZW5nbGlzaC10YWJsZScsICdzcGFuaXNoLXRhYmxlJywgJ2dlcm1hbi10YWJsZScsICdpdGFsaWFuLXRhYmxlJywgJ2ZyZW5jaC10YWJsZSddW3BhZ2VJbmRleF1cclxuXHRjb25zdCBzdGFuZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uSUQpLnF1ZXJ5U2VsZWN0b3IoJy5zdGFuZGluZ3MnKVxyXG5cdGNvbnN0IGdldFRhYmxlID0gbGVhZ3VlLnN0YW5kaW5nc1swXS50YWJsZVxyXG5cdGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJylcclxuXHRoZWFkZXIuY2xhc3NMaXN0LmFkZCgnc3RhbmRpbmdzX19oZWFkZXInKVxyXG5cdGhlYWRlci5pbm5lckhUTUwgPSBgXHJcblx0PHRyPlxyXG5cdDx0aCBjbGFzcz1cInN0YW5kaW5nc19faGVhZGVyLXJhbmtcIj4jPC90aD5cclxuXHQ8dGggY2xhc3M9XCJzdGFuZGluZ3NfX2hlYWRlci10ZWFtXCI+VGVhbTwvdGg+XHJcblx0PHRoIGNsYXNzPVwic3RhbmRpbmdzX19oZWFkZXItcGxheWVkXCI+UDwvdGg+XHJcblx0PHRoIGNsYXNzPVwic3RhbmRpbmdzX19oZWFkZXItd29uXCI+VzwvdGg+XHJcblx0PHRoIGNsYXNzPVwic3RhbmRpbmdzX19oZWFkZXItZHJhd25cIj5EPC90aD5cclxuXHQ8dGggY2xhc3M9XCJzdGFuZGluZ3NfX2hlYWRlci1sb3N0XCI+TDwvdGg+XHJcblx0PHRoIGNsYXNzPVwic3RhbmRpbmdzX19oZWFkZXItZm9yXCI+KzwvdGg+XHJcblx0PHRoIGNsYXNzPVwic3RhbmRpbmdzX19oZWFkZXItYWdhaW5zdFwiPi08L3RoPlxyXG5cdDx0aCBjbGFzcz1cInN0YW5kaW5nc19faGVhZGVyLWRpZmZlcmVuY2VcIj4rLy08L3RoPlxyXG5cdDx0aCBjbGFzcz1cInN0YW5kaW5nc19faGVhZGVyLXBvaW50c1wiPlA8L3RoPlxyXG5cdDwvdHI+XHJcblx0YFxyXG5cdHN0YW5kaW5ncy5hcHBlbmRDaGlsZChoZWFkZXIpXHJcblxyXG5cdGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGJvZHknKVxyXG5cdHRib2R5LmNsYXNzTGlzdC5hZGQoJ3N0YW5kaW5nc19fdGVhbXMnKVxyXG5cclxuXHRnZXRUYWJsZS5mb3JFYWNoKHRlYW1EYXRhID0+IHtcclxuXHRcdGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKVxyXG5cdFx0dHIuaW5uZXJIVE1MID0gYFxyXG5cdFx0PHRkIGNsYXNzPVwic3RhbmRpbmdzX190ZWFtcy1yYW5rXCI+JHt0ZWFtRGF0YS5wb3NpdGlvbn08L3RkPlxyXG5cdFx0PHRkIGNsYXNzPVwic3RhbmRpbmdzX190ZWFtcy10ZWFtXCI+XHJcblx0XHQ8aW1nIHNyYz1cIiR7dGVhbURhdGEudGVhbS5jcmVzdH1cIiBhbHQ9XCIke3RlYW1EYXRhLnRlYW0ubmFtZX1cIj5cclxuXHRcdDxzcGFuIGNsYXNzPVwic3RhbmRpbmdzX190ZWFtcy1uYW1lLWZ1bGxcIj4ke3RlYW1EYXRhLnRlYW0ubmFtZX08L3NwYW4+XHJcblx0XHQ8L3RkPlxyXG5cdFx0PHRkIGNsYXNzPVwic3RhbmRpbmdzX190ZWFtcy1wbGF5ZWRcIj4ke3RlYW1EYXRhLnBsYXllZEdhbWVzfTwvdGQ+XHJcblx0XHQ8dGQgY2xhc3M9XCJzdGFuZGluZ3NfX3RlYW1zLXdvblwiPiR7dGVhbURhdGEud29ufTwvdGQ+XHJcblx0XHQ8dGQgY2xhc3M9XCJzdGFuZGluZ3NfX3RlYW1zLWRyYXduXCI+JHt0ZWFtRGF0YS5kcmF3fTwvdGQ+XHJcblx0XHQ8dGQgY2xhc3M9XCJzdGFuZGluZ3NfX3RlYW1zLWxvc3RcIj4ke3RlYW1EYXRhLmxvc3R9PC90ZD5cclxuXHRcdDx0ZCBjbGFzcz1cInN0YW5kaW5nc19fdGVhbXMtZm9yXCI+JHt0ZWFtRGF0YS5nb2Fsc0Zvcn08L3RkPlxyXG5cdFx0PHRkIGNsYXNzPVwic3RhbmRpbmdzX190ZWFtcy1hZ2FpbnN0XCI+JHt0ZWFtRGF0YS5nb2Fsc0FnYWluc3R9PC90ZD5cclxuXHRcdDx0ZCBjbGFzcz1cInN0YW5kaW5nc19fdGVhbXMtZGlmZmVyZW5jZVwiPiR7dGVhbURhdGEuZ29hbERpZmZlcmVuY2V9PC90ZD5cclxuXHRcdDx0ZCBjbGFzcz1cInN0YW5kaW5nc19fdGVhbXMtcG9pbnRzXCI+JHt0ZWFtRGF0YS5wb2ludHN9PC90ZD5cclxuXHRcdGBcclxuXHRcdHRib2R5LmFwcGVuZENoaWxkKHRyKVxyXG5cdH0pXHJcblxyXG5cdHN0YW5kaW5ncy5hcHBlbmRDaGlsZCh0Ym9keSlcclxufVxyXG5cclxuY29uc3QgY3JlYXRlUmVzdWx0cyA9IChsZWFndWUsIHBhZ2VJbmRleCkgPT4ge1xyXG5cdGNvbnN0IHNlY3Rpb25JRCA9IFsnZW5nbGlzaCcsICdzcGFuaXNoJywgJ2dlcm1hbicsICdpdGFsaWFuJywgJ2ZyZW5jaCddW3BhZ2VJbmRleF1cclxuXHRjb25zdCBzY29yZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uSUQpLnF1ZXJ5U2VsZWN0b3IoJy5zY29yZXMnKVxyXG5cdGNvbnN0IGdldFJlc3VsdHMgPSBsZWFndWUubWF0Y2hlc1xyXG5cdGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxyXG5cdGNvbnN0IG1hdGNoZGF5TWFwID0gbmV3IE1hcCgpXHJcblxyXG5cdGdldFJlc3VsdHNcclxuXHRcdC5maWx0ZXIobWF0Y2ggPT4gbmV3IERhdGUobWF0Y2gudXRjRGF0ZSkgPD0gY3VycmVudERhdGUpXHJcblx0XHQuZm9yRWFjaChtYXRjaCA9PiB7XHJcblx0XHRcdGNvbnN0IG1hdGNoZGF5ID0gbWF0Y2gubWF0Y2hkYXlcclxuXHJcblx0XHRcdGlmICghbWF0Y2hkYXlNYXAuaGFzKG1hdGNoZGF5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHNjb3Jlc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0XHRcdFx0c2NvcmVzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Njb3Jlc19fY29udGFpbmVyJylcclxuXHJcblx0XHRcdFx0Y29uc3Qgcm91bmRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cdFx0XHRcdHJvdW5kQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Njb3Jlc19fcm91bmQnKVxyXG5cdFx0XHRcdHJvdW5kQnV0dG9uLmlubmVySFRNTCA9IGBSb3VuZCAtICR7bWF0Y2hkYXl9IDxpIGNsYXNzPVwiZmEtc29saWQgZmEtY2hldnJvbi1kb3duXCI+PC9pPmBcclxuXHRcdFx0XHRzY29yZXNDb250YWluZXIuYXBwZW5kQ2hpbGQocm91bmRCdXR0b24pXHJcblxyXG5cdFx0XHRcdG1hdGNoZGF5TWFwLnNldChtYXRjaGRheSwgc2NvcmVzQ29udGFpbmVyKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjb25zdCBtYXRjaFN0YXJ0ID0gbWF0Y2gudXRjRGF0ZS5yZXBsYWNlKCdUJywgJyAnKS5yZXBsYWNlKCdaJywgJycpLnN1YnN0cmluZygwLCAxNik7XHJcblx0XHRcdGNvbnN0IG1hdGNoRGF0ZSA9IG5ldyBEYXRlKG1hdGNoLnV0Y0RhdGUpXHJcblx0XHRcdGNvbnN0IG1hdGNoU3RhcnQgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgncGwtUEwnLCB7XHJcblx0XHRcdFx0eWVhcjogJ251bWVyaWMnLFxyXG5cdFx0XHRcdG1vbnRoOiAnc2hvcnQnLFxyXG5cdFx0XHRcdGRheTogJ251bWVyaWMnLFxyXG5cdFx0XHRcdGhvdXI6ICdudW1lcmljJyxcclxuXHRcdFx0XHRtaW51dGU6ICdudW1lcmljJyxcclxuXHRcdFx0XHRob3VyMTI6IGZhbHNlLFxyXG5cdFx0XHR9KS5mb3JtYXQobWF0Y2hEYXRlKVxyXG5cclxuXHRcdFx0Y29uc3QgbWF0Y2hDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHRcdFx0bWF0Y2hDb250ZW50LmNsYXNzTGlzdC5hZGQoJ3Njb3Jlc19fc2NvcmUnKVxyXG5cclxuXHRcdFx0bWF0Y2hDb250ZW50LmlubmVySFRNTCA9IGBcclxuXHRcdCAgPHNwYW4gY2xhc3M9XCJzY29yZXNfX21hdGNoLWRhdGVcIj4ke21hdGNoU3RhcnR9PC9zcGFuPlxyXG5cdFx0ICA8c3BhbiBjbGFzcz1cInNjb3Jlc19faG9tZXRlYW1cIj48aW1nIHNyYz1cIiR7bWF0Y2guaG9tZVRlYW0uY3Jlc3R9XCIgYWx0PVwiJHttYXRjaC5ob21lVGVhbS5uYW1lfVwiPiAke21hdGNoLmhvbWVUZWFtLnNob3J0TmFtZX08L3NwYW4+IFxyXG5cdFx0ICA8c3BhbiBjbGFzcz1cInNjb3Jlc19fZnVsbHRpbWUtc2NvcmVcIj4ke21hdGNoLnNjb3JlLmZ1bGxUaW1lLmhvbWV9IDogJHttYXRjaC5zY29yZS5mdWxsVGltZS5hd2F5fTwvc3Bhbj5cclxuXHRcdCAgPHNwYW4gY2xhc3M9XCJzY29yZXNfX2F3YXl0ZWFtXCI+PGltZyBzcmM9XCIke21hdGNoLmF3YXlUZWFtLmNyZXN0fVwiIGFsdD1cIiR7bWF0Y2guYXdheVRlYW0ubmFtZX1cIj4gJHttYXRjaC5hd2F5VGVhbS5zaG9ydE5hbWV9PC9zcGFuPmBcclxuXHJcblx0XHRcdG1hdGNoZGF5TWFwLmdldChtYXRjaGRheSkuYXBwZW5kQ2hpbGQobWF0Y2hDb250ZW50KVxyXG5cdFx0fSlcclxuXHJcblx0Y29uc3Qgc29ydGVkQ29udGFpbmVycyA9IEFycmF5LmZyb20obWF0Y2hkYXlNYXAudmFsdWVzKCkpLnNvcnQoXHJcblx0XHQoYSwgYikgPT5cclxuXHRcdFx0cGFyc2VJbnQoYi5xdWVyeVNlbGVjdG9yKCcuc2NvcmVzX19yb3VuZCcpLnRleHRDb250ZW50LnNwbGl0KCcgLSAnKVsxXSkgLVxyXG5cdFx0XHRwYXJzZUludChhLnF1ZXJ5U2VsZWN0b3IoJy5zY29yZXNfX3JvdW5kJykudGV4dENvbnRlbnQuc3BsaXQoJyAtICcpWzFdKVxyXG5cdClcclxuXHJcblx0c29ydGVkQ29udGFpbmVycy5mb3JFYWNoKGNvbnRhaW5lciA9PiB7XHJcblx0XHRzY29yZXMuYXBwZW5kQ2hpbGQoY29udGFpbmVyKVxyXG5cdH0pXHJcblxyXG5cdC8vIEFkZCAuc2NvcmVzX19zY29yZS0tYWN0aXZlIHRvIHRoZSBzY29yZXMgaW4gdGhlIGxhc3QgY29udGFpbmVyXHJcblx0aWYgKHNvcnRlZENvbnRhaW5lcnMubGVuZ3RoID4gMCkge1xyXG5cdFx0c29ydGVkQ29udGFpbmVyc1swXS5xdWVyeVNlbGVjdG9yQWxsKCcuc2NvcmVzX19zY29yZScpLmZvckVhY2goc2NvcmUgPT4ge1xyXG5cdFx0XHRzY29yZS5jbGFzc0xpc3QuYWRkKCdzY29yZXNfX3Njb3JlLS1hY3RpdmUnKVxyXG5cdFx0fSlcclxuXHJcblx0XHRjb25zdCBhcnJvdyA9IHNvcnRlZENvbnRhaW5lcnNbMF0ucXVlcnlTZWxlY3RvcignLnNjb3Jlc19fcm91bmQnKS5jaGlsZHJlblxyXG5cdFx0YXJyb3dbMF0uY2xhc3NMaXN0LmFkZCgncm90YXRlJylcclxuXHR9XHJcbn1cclxuXHJcbi8vICAgRk9PVEVSXHJcblxyXG5jb25zdCBoYW5kbGVDdXJyZW50WWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXHJcblx0Zm9vdGVyWWVhci5pbm5lclRleHQgPSB5ZWFyXHJcbn1cclxuXHJcbmhhbmRsZUN1cnJlbnRZZWFyKClcclxuIl19
